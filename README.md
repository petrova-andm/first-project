# Шпаргалка по Git

## Что такое Git?  


**Git** — один из примеров системы контроля версий: он позволяет хранить, изменять и анализировать историю проекта.
* Это незаменимый в команде инструмент, ведь он помогает объединять результаты работы нескольких человек.

---

## Установка Git

1. Установите Git согласно инструкции для вашей ОС. 
2. В консоли выполните следующую команду, чтобы убедиться, что Git установлен правильно. 

```bash
$ git version
```
- Если на экран выводится текущая версия Git, значит, установка прошла успешно.

---

## Настройка Git

Чтобы участникам проекта было понятно, кто и какие изменения вносил, нужно указать имя пользователя и адрес электронной почты.

```bash
$ git config --global user.name "User Namovich" 
# своё имя или ник нужно написать латиницей и в кавычках

$ git config --global user.email username@yandex.ru
# здесь нужно указать свой настоящий email
```
Все глобальные настройки Git хранит в файле .gitconfig в домашней директории. Команда запишет в этот файл указанные имя и почту. Чтобы убедиться в этом, можно вызвать команду для чтения файлов.
```bash
$ cat ~/.gitconfig
# или 
$ git config --list
```
---

## Инициализируем репозиторий

### Сделать папку репозиторием — git init

Чтобы Git начал отслеживать изменения в проекте, папку с файлами этого проекта нужно сделать **Git-репозиторием**. 

```bash
$ cd ~/dev/first-project # перешли в нужную папку

$ git init # создали репозиторий
```

### «Разгитить» папку, если что-то пошло не так, — rm -rf .git

Если вы случайно сделали Git-репозиторием не ту папку, её можно «разгитить». Для этого нужно удалить скрытую подпапку .git.

```bash
$ cd <папка с репозиторием> # перешли в папку

$ rm -rf .git # удалили подпапку .git
```

### Проверить состояние репозитория — git status

Эта команда показывает текущее состояние репозитория.

```bash
$ git status
```

---

## Добавляем файлы в репозиторий

```bash
$ git add --all # подготовили к сохранению все файлы в репозитории

$ git add todo.txt # подготовили к сохранению сразу все файлы

$ git add . # подготовили к сохранению текущую папку со всеми файлами

$ git status # проверили статус
```  

---

## Делаем коммит

Коммит гарантирует, что изменения будут сохранены в истории и при необходимости к ним можно будет «откатиться». 

```bash
$ git commit -m ‘Мой первый коммит!’
```

---

## Просматриваем историю коммитов

Эта команда понадобится для отслеживания того, что происходит в репозитории.

```bash
$ git log
```

## Что такое GitHub?

**GitHub** — платформа, которая работает с Git и упрощает командное взаимодействие.

* Кроме GitHub, существуют и другие подобные платформы, например GitLab, Bitbucket и так далее.

---

## Регистрация на GitHub

### Инструкция по регистрации

1. В правом верхнем углу главной страницы [GitHub](https://github.com/) нажмите на Sign up. 
2. На экране будут последовательно появляться поля для ввода.
* Введите адрес электронной почты (англ. Enter your email).
* Придумайте пароль (англ. Create a password).
* Введите имя пользователя (англ. Enter a username).
3. Платформа спросит, хотите ли вы получать на почту рассылку с обновлениями и новостями. Введите y, если хотите получать рассылку, или n, если не хотите.
4. Нажмите кнопку Continue.
5. GitHub предложит вам пройти капчу. Сделайте это.
6. После прохождения капчи нажмите Create account.
7. Введите короткий код, который будет отправлен на указанный вами почтовый адрес.

Поздравляю! Вы успешно зарегистрировались на крупнейшем веб-хостинге проектов GitHub.

---

## Создаём удалённый репозиторий

### Инструкция по созданию репозитория на GitHub

1. Зайдите в свой профиль по ссылке https://github.com/username, где username — имя, которое вы указали при регистрации.
2. Создайте репозиторий. Для этого перейдите на вкладку Repositories, а затем нажмите на зелёную кнопку New справа.
3. Открылось окно создания нового репозитория. Назовите его. Название удалённого репозитория необязательно должно совпадать с именем папки проекта у вас на компьютере.
4. Нажимите на зелёную кнопку Create repository внизу.

Готово! Удалённый репозиторий создан. Страница с ним открывается автоматически. 

---

## Что такое SSH? Генерируем SSH-ключ

### Что такое SSH?

**SSH** — протокол, который обеспечивает безопасный обмен данными в сети и использует для этого ключи.

**SSH-ключ** — ваш виртуальный идентификатор в GitHub.

* Он позволяет получить доступ к GitHub-репозиторию. 
* Также SSH используется для доступа к другим удалённым серверам.

SSH-ключ состоит из двух частей — **публичной** и **приватной**. Публичный ключ зашифрует данные, а приватный — расшифрует. Приватным ключом ни в коем случае нельзя делиться!

### Проверка наличия SSH-ключа

```bash
$ cd ~ # перешли в домашнюю директорию

$ ls -la .ssh/ # вывели список созданных ключей
```

### Инструкция по генерации SSH-ключа
1. Для генерации SSH-пары можно использовать программу ssh-keygen. Откройте терминал и введите следующую команду.

```bash
$ ssh-keygen -t ed25519 -C "электронная почта, к которой привязан ваш аккаунт на GitHub"
# либо
$ ssh-keygen -t rsa -b 4096 -C "электронная почта, к которой привязан ваш аккаунт на GitHub"
```

2. Укажите место хранения ключей. Простой вариант — сделать домашний каталог пользователя путём по умолчанию. Для этого нажмите Enter.
3. Программа запросит кодовую фразу для доступа к SSH-ключу. Вы можете оставить поле пустым. Для этого нажмите Enter, а затем ещё раз Enter для подтверждения.
4. Готово! Теперь осталось проверить, что ключи действительно сгенерировались. Для этого вызовите эту команду.

```bash
ls -a ~/.ssh
```

 На экране должны появиться два файла — один с расширением .pub, другой — без. Файл в .pub — публичный, им можно делиться с веб-сайтами или коллегами. Файл без расширения .pub — приватный. Ни в коем случае не передавайте его никому! 

 ---

## Привязываем SSH-ключ к GitHub

### Инструкция по связыванию SSH-ключа и GitHub-аккаунта

1. Скопируйте содержимое файла с публичным ключом в буфер обмена.
2. Перейдите на GitHub и выберите пункт Settings в меню аккаунта.
3. В меню слева нажмите на пункт SSH and GPG keys.
4. В открывшейся вкладке выберите New SSH key.
5. В поле Title напишите название ключа. Например, Personal key.
6. В поле Key type должно быть Authentication Key.
7. В поле Key скопируйте ваш ключ из буфера обмена.
8. Нажмите на кнопку Add SSH key.
9. Проверьте правильность ключа с помощью следующей команды.

```bash
$ ssh -T git@github.com
```

Если это первый раз, когда вы используете Git, чтобы поделиться проектом на GitHub, появится предупреждение. Введите yes, чтобы продолжить. Вы увидите приветствие на экране.

---

## Связываем локальный и удалённый репозитории

### Привязать удалённый репозиторий к локальному — git remote add

1. Перейдите на страницу удалённого репозитория, выберите тип SSH и скопируйте URL. 
2. Откройте консоль, перейдите в каталог локального репозитория и введите команду git remote add.

```bash
$ cd ~/dev/first-project
$ git remote add origin git@github.com:%ИМЯ_АККАУНТА%/first-project.git
```

💡#### Как выполнить вставку в командную строку?

```
В командную строку нельзя вставить текст из буфера обмена с помощью привычного сочетания Ctrl+V. На Windows (в Git Bash) и Linux для этого используется сочетание Ctrl+Shift+V, а на macOS — Cmd+V.
Также можно нажать правую кнопку мыши и выбрать пункт Paste (англ. «вставить») в выпадающем меню.
```

### Убедиться, что репозитории связаны, — git remote -v

```bash
$ git remote -v
origin    git@github.com:%ИМЯ_АККАУНТА%/%ИМЯ-ПРОЕКТА%.git (fetch)
origin    git@github.com:%ИМЯ_АККАУНТА%/%ИМЯ-ПРОЕКТА%.git (push)
# В выводе вы должны увидеть две строчки, аналогичные тем, что показаны выше.
```

---

## Синхронизируем локальный и удалённый репозитории

### Основная ветка

Каждый коммит сохраняет актуальное состояние файлов. 

Коммиты хранятся в ветках. Начальная ветка создаётся автоматически и называется **main** или **master**.

### Отправить изменения на удалённый репозиторий — git push

За отправку изменений на удалённый репозиторий отвечает команда **git push**.

В первый раз эту команду нужно вызвать с флагом *-u* и параметрами *origin* (имя удалённого репозитория) и *main* или *master* (название текущей ветки).

```bash
$ git push -u origin main # Если команда приведёт к ошибке, попробуйте заменить main на master.
```

В дальнейшем при работе с удалённым репозиторием флаг -u можно опустить и писать просто *git push*.

### Работа с графическим интерфейсом GitHub

Интерфейс GitHub позволяет удобно просмотреть все коммиты в репозитории, а также изменения в этих коммитах.

1. Нажмите на кнопку commit в правой части страницы, чтобы просмотреть все коммиты в репозитории.
* Откроется окно с коммитами и их авторами.
* Сообщение коммита в репозитории тоже является ссылкой. 
2. Перейдите по ссылке, кликните на текст последнего коммита над репозиторием — так вы сможете увидеть все изменения, которые были внесены в репозиторий в этом коммите.